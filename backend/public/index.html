<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../stylesheets/style.css" />
    <link rel="icon" type="image/png" href="/images/icon.png">
    <!--Font awesone icon-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
        integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
        crossorigin="anonymous" />
    <title>Soka.Writing Blog</title>
</head>

<body>
    <!--  Header -->
    <header>
        <nav class="navbar">
            <div class="container">
                <a href="/" class="navbar-brand ">Soka.Writing</a>
                <div class="navbar-nav">
                </div>
            </div>
        </nav>
    </header>
    <!-- End of header -->
    <!-- Contenu -->
    <div class="my-view"></div>
    <!--End Contenu-->
    <!-- footer -->
    <footer>
        <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-pinterest"></i></a>
        </div>
        <span>Soka.Writing Blog @ 2022 - BDCC</span>
    </footer>
    <!-- end of footer -->
    <script type="text/javascript" src="javascripts/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="javascripts/jq-router.js"></script>
    <script type="text/javascript" src="../javascripts/script.js"></script>
    <script type="text/javascript">
        var routes = {},
            defaultRoute = 'home';

        routes['home'] = {
            url: '#home',
            templateUrl: 'templates/home.html'
        };
        routes['about'] = {
            url: '#about',
            templateUrl: 'templates/about.html'
        };
        routes['login'] = {
            url: '#login',
            templateUrl: 'templates/login.html'
        };
        routes['article'] = {
            url: '#article/:article',
            templateUrl: 'templates/article.html'
        };
        routes['admin'] = {
            url: '#admin',
            templateUrl: 'templates/admin.html'
        };
        $.router
            .setData(routes)
            .setDefault(defaultRoute);
        $.when($.ready)
            .then(function () {
            $.router.run('.my-view', 'home');
            if(localStorage.getItem('role')=="AUTHOR")
            {
                $('.navbar-nav').html('');         
                let element = '<a href="#home">Home</a>'+
                              '<a href="#post">Post</a>'+
                               '<a href="#about">About</a>'+
                               '<a id="demo">'+localStorage.getItem('firstName')+'</a>'+
                               '<a onclick="logout()">Logout</a>';
                $('.navbar-nav').append(element);
            }
            if(localStorage.getItem('role')=="ADMIN")
            {
                $('.navbar-nav').html('');         
                let element = '<a href="#home">Home</a>'+
                              '<a href="#post">Post</a>'+
                              '<a href="#post">User</a>'+
                              '<a href="#about">About</a>'+
                              '<a id="demo">'+localStorage.getItem('firstName')+'</a>'+
                              '<a  onclick="logout()">Logout</a>';
                $('.navbar-nav').append(element);
            }
            else if (localStorage.getItem('role')===null){
                $('.navbar-nav').html('');         
                let element = '<a href="#home">Home</a>'+
                              '<a href="#post">Post</a>'+
                              '<a href="#post">User</a>'+
                              '<a href="#about">About</a>'+
                              '<a href="#login">Login</a>';
                $('.navbar-nav').append(element);
            }
            });
    </script>
</body>

</html>